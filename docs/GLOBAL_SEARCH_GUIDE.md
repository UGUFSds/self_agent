# 全局搜索功能使用指南

## 🎯 功能概述

全局搜索功能允许用户快速搜索整个网站的内容，包括页面、组件、文档和API等。该功能通过右上角的放大镜按钮或键盘快捷键 `Ctrl+K` (Mac: `Cmd+K`) 激活。

## 🚀 功能特性

### 1. 多种激活方式
- **点击放大镜按钮**: 点击页面右上角的放大镜图标
- **键盘快捷键**: 按 `Ctrl+K` (Windows/Linux) 或 `Cmd+K` (Mac)
- **ESC 键关闭**: 按 ESC 键或点击外部区域关闭搜索

### 2. 智能搜索
- **实时搜索**: 输入时实时显示搜索结果
- **模糊匹配**: 支持标题、描述、类别的模糊搜索
- **分类显示**: 搜索结果按类型分类（文档、组件、API、页面）

### 3. 键盘导航
- **上下箭头**: 在搜索结果中导航
- **Enter 键**: 选择当前高亮的结果或执行搜索
- **ESC 键**: 关闭搜索界面

### 4. 视觉反馈
- **加载状态**: 搜索时显示加载动画
- **空状态**: 无结果时显示友好的提示信息
- **类型图标**: 不同类型的内容显示不同的图标

## 📋 搜索内容类型

### 文档 (Documentation)
- 项目架构文档
- 组件开发规范
- API 文档
- 使用指南

### 组件 (Components)
- UI 组件库
- 自定义组件
- 组件示例

### API (API)
- REST API 接口
- GraphQL 查询
- WebSocket 连接

### 页面 (Pages)
- 应用页面
- 功能模块
- 用户界面

## 🎨 界面设计

### 搜索框
- **位置**: 页面顶部居中
- **样式**: 毛玻璃效果，白色半透明背景
- **占位符**: "搜索页面、组件、文档、API..."
- **图标**: 右侧显示搜索图标或加载动画

### 搜索结果
- **背景**: 黑色半透明遮罩
- **容器**: 毛玻璃效果的结果列表
- **项目**: 每个结果包含图标、标题、描述和分类标签
- **悬停**: 鼠标悬停时高亮显示

### 空状态
- **图标**: 搜索图标
- **提示**: "未找到相关结果"
- **建议**: "尝试使用不同的关键词"

## 🔧 技术实现

### 组件结构
```typescript
interface GlobalSearchProps {
  isOpen: boolean;           // 是否打开
  onClose: () => void;       // 关闭回调
  onSearch?: (query: string) => void; // 搜索回调
}
```

### 搜索逻辑
```typescript
// 模拟搜索数据
const mockSearchData: SearchResult[] = [
  {
    id: "1",
    title: "项目架构文档",
    description: "了解项目的整体架构和技术栈",
    type: "documentation",
    url: "/docs/architecture",
    category: "文档"
  },
  // ... 更多数据
];

// 搜索过滤
const results = mockSearchData.filter(item =>
  item.title.toLowerCase().includes(query.toLowerCase()) ||
  item.description.toLowerCase().includes(query.toLowerCase()) ||
  item.category.toLowerCase().includes(query.toLowerCase())
);
```

### 键盘事件处理
```typescript
const handleKeyDown = (e: React.KeyboardEvent) => {
  switch (e.key) {
    case "ArrowDown":
      // 向下导航
      break;
    case "ArrowUp":
      // 向上导航
      break;
    case "Enter":
      // 选择结果或执行搜索
      break;
    case "Escape":
      // 关闭搜索
      break;
  }
};
```

## 📱 响应式设计

### 桌面端
- 搜索框宽度: 最大 2xl (672px)
- 结果列表: 最大高度 96 (384px)
- 位置: 页面顶部居中

### 移动端
- 搜索框宽度: 全宽减去边距
- 结果列表: 自适应高度
- 位置: 页面顶部，适配小屏幕

## 🎯 使用场景

### 1. 快速导航
用户可以通过搜索快速找到需要的页面或功能，而不需要记住具体的导航路径。

### 2. 内容发现
帮助用户发现网站上的相关内容和功能，提高用户体验。

### 3. 开发调试
开发人员可以快速搜索组件、API 或文档，提高开发效率。

### 4. 学习探索
新用户可以搜索感兴趣的内容，快速了解网站的功能和结构。

## 🔮 未来扩展

### 1. 搜索历史
- 保存用户的搜索历史
- 提供快速访问常用搜索

### 2. 搜索建议
- 基于用户输入提供搜索建议
- 自动完成功能

### 3. 高级搜索
- 支持搜索语法（如 "type:component"）
- 过滤器和排序选项

### 4. 搜索分析
- 统计搜索关键词
- 分析用户搜索行为

### 5. 实时搜索
- 集成后端搜索服务
- 支持实时内容更新

## 🐛 故障排除

### 常见问题

#### 1. 搜索框无法打开
- 检查是否正确绑定了点击事件
- 确认键盘快捷键是否被其他功能占用

#### 2. 搜索结果为空
- 检查搜索数据是否正确加载
- 确认搜索逻辑是否正确实现

#### 3. 键盘导航不工作
- 检查键盘事件处理是否正确
- 确认焦点是否在搜索框上

#### 4. 样式显示异常
- 检查 Tailwind CSS 类名是否正确
- 确认毛玻璃效果是否支持

### 调试技巧
1. 使用浏览器开发者工具检查控制台错误
2. 检查网络请求是否正常
3. 验证组件状态是否正确更新
4. 测试不同浏览器的兼容性

## 📚 相关文档

- [项目架构文档](./PROJECT_ARCHITECTURE.md)
- [组件开发规范](./COMPONENT_SPECIFICATIONS.md)
- [开发标准](./DEVELOPMENT_STANDARDS.md)
- [后端集成规范](./BACKEND_INTEGRATION.md)

---

**最后更新**: 2024年12月25日  
**版本**: v1.0.0
